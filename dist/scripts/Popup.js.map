{"version":3,"sources":["../../scripts/Popup.es6"],"names":["emitKey","setLoadingSpinner","jQuery","toggle","isShow","queryToParent","request","callback","chrome","tabs","query","active","currentWindow","length","sendMessage","id","response","runtime","lastError","console","log","initOptions","method","options","eval","index","prop","nav","Navigator","change","event","$self","currentTarget","key","value","is"],"mappings":";;AAAA,IAAMA,UAAU,2BAAhB;AACA,IAAIC,oBAAoB,SAApBA,iBAAoB,SAAU;AAChCC,SAAO,kBAAP,EAA2BC,MAA3B,CAAkCC,MAAlC;AACD,CAFD;AAGA,IAAIC,gBAAgB,SAAhBA,aAAgB,CAACC,OAAD,EAAUC,QAAV,EAAuB;AACzCN,oBAAkB,IAAlB;AACAO,SAAOC,IAAP,CAAYC,KAAZ,CAAkB;AAChBC,YAAQ,IADQ;AAEhBC,mBAAe;AAFC,GAAlB,EAGG,UAAUH,IAAV,EAAgB;AACjB,QAAIA,KAAKI,MAAL,GAAc,CAAlB,EAAqB;AACnBL,aAAOC,IAAP,CAAYK,WAAZ,CAAwBL,KAAK,CAAL,EAAQM,EAAhC,EAAoCT,OAApC,EAA6C,UAAUU,QAAV,EAAoB;AAC/Df,0BAAkB,KAAlB;AACA,YAAIO,OAAOS,OAAP,CAAeC,SAAnB,EAA8B;AAC5BC,kBAAQC,GAAR,CAAY,SAAZ,EAAuBZ,OAAOS,OAAP,CAAeC,SAAtC;AACD,SAFD,MAEO;AACL,cAAI,OAAOX,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,qBAASS,QAAT;AACD;AACF;AACF,OATD;AAUD;AACF,GAhBD;AAiBD,CAnBD;;AAqBA,IAAIK,cAAc,SAAdA,WAAc,GAAM;AACtBhB,gBAAc;AACZiB,YAAQ;AADI,GAAd,EAEG,mBAAW;AACZH,YAAQC,GAAR,CAAY,MAAZ;AACA,QAAIG,QAAQC,IAAZ,EAAkB;AAChB,WAAK,IAAIC,KAAT,IAAkBF,QAAQC,IAA1B,EAAgC;AAC9BtB,eAAO,+BAA+BqB,QAAQC,IAAR,CAAaC,KAAb,CAA/B,GAAqD,GAA5D,EAAiEC,IAAjE,CAAsE,SAAtE,EAAiF,IAAjF;AACD;AACF;AACF,GATD;AAUD,CAXD;;AAaAxB,OAAO,YAAM;AACX,MAAIyB,MAAM,IAAIC,SAAJ,EAAV;;AAEA1B,SAAO,uCAAP,EAAgD2B,MAAhD,CAAuD,UAACC,KAAD,EAAW;AAChE,QAAIC,QAAQ7B,OAAO4B,MAAME,aAAb,CAAZ;;AAEA3B,kBAAc;AACZiB,cAAQ,SADI;AAEZW,WAAKF,MAAML,IAAN,CAAW,MAAX,CAFO;AAGZQ,aAAOH,MAAMI,EAAN,CAAS,UAAT;AAHK,KAAd,EAIG,gBAAQ;AACT9B,oBAAc,EAAEiB,QAAQ,eAAV,EAAd;AACD,KAND;AAOD,GAVD;;AAYAD;AACD,CAhBD","file":"Popup.js","sourcesContent":["const emitKey = 'UnofficialUpsourcePatcher';\nlet setLoadingSpinner = isShow => {\n  jQuery('.loading-spinner').toggle(isShow);\n};\nlet queryToParent = (request, callback) => {\n  setLoadingSpinner(true);\n  chrome.tabs.query({\n    active: true,\n    currentWindow: true\n  }, function (tabs) {\n    if (tabs.length > 0) {\n      chrome.tabs.sendMessage(tabs[0].id, request, function (response) {\n        setLoadingSpinner(false);\n        if (chrome.runtime.lastError) {\n          console.log(\"ERROR: \", chrome.runtime.lastError);\n        } else {\n          if (typeof callback === 'function') {\n            callback(response);\n          }\n        }\n      });\n    }\n  });\n};\n\nlet initOptions = () => {\n  queryToParent({\n    method: 'getOptions'\n  }, options => {\n    console.log('init');\n    if (options.eval) {\n      for (let index in options.eval) {\n        jQuery('input[type=checkbox][name=' + options.eval[index] + ']').prop('checked', true);\n      }\n    }\n  });\n};\n\njQuery(() => {\n  let nav = new Navigator();\n\n  jQuery('input[type=checkbox].js_toggle_option').change((event) => {\n    let $self = jQuery(event.currentTarget);\n\n    queryToParent({\n      method: 'setEval',\n      key: $self.prop('name'),\n      value: $self.is(':checked')\n    }, data => {\n      queryToParent({ method: 'initFunctions' });\n    });\n  });\n\n  initOptions();\n});\n"]}